local a={}local b=function(c)local d=a[c]if d~=nil then if not d.inited then d.cached=d.loader()d.inited=true end;return d.cached else error("module not found")return nil end end;a["main"]={inited=false,cached=false,loader=function(...)local e=b("mod")e.foo("Bar")sleep(1)term.clear()print("Yup hacking")end}a["mod"]={inited=false,cached=false,loader=function(...)local e={}function e.foo(f)print("Foo the bar",f)end;return e end}a["main"].loader()